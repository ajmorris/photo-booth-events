(()=>{"use strict";const e=window.wp.blocks,t=window.React,o=window.wp.i18n,l=window.wp.blockEditor,a=window.wp.components,n=window.wp.element,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"virtual-photo-booth/gallery","title":"Photo Booth Gallery","category":"media","icon":"images-alt2","description":"Display a gallery of approved photos from photo booth events.","keywords":["gallery","photo","booth","images"],"textdomain":"virtual-photo-booth","attributes":{"eventId":{"type":"integer","default":0},"columns":{"type":"integer","default":3},"limit":{"type":"integer","default":20},"order":{"type":"string","default":"DESC"},"containerClass":{"type":"string","default":""}},"supports":{"html":false,"align":["wide","full"]},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}');(0,e.registerBlockType)(r.name,{...r,edit:function({attributes:e,setAttributes:r}){const{eventId:i,columns:s,limit:p,order:c,containerClass:m}=e,h=(0,l.useBlockProps)(),[u,d]=(0,n.useState)([]),[v,b]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{fetch("/wp-json/virtual-photo-booth/v1/events").then(e=>e.json()).then(e=>{d(e),b(!1)}).catch(()=>{b(!1)})},[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:(0,o.__)("Gallery Settings","virtual-photo-booth")},(0,t.createElement)(a.SelectControl,{label:(0,o.__)("Event","virtual-photo-booth"),value:i||0,options:[{label:(0,o.__)("— Use Default —","virtual-photo-booth"),value:0},...u.map(e=>({label:e.title,value:e.id}))],onChange:e=>r({eventId:parseInt(e,10)||0}),disabled:v}),(0,t.createElement)(a.RangeControl,{label:(0,o.__)("Columns","virtual-photo-booth"),value:s,onChange:e=>r({columns:e}),min:1,max:6}),(0,t.createElement)(a.RangeControl,{label:(0,o.__)("Limit","virtual-photo-booth"),value:p,onChange:e=>r({limit:e}),min:1,max:100}),(0,t.createElement)(a.SelectControl,{label:(0,o.__)("Order","virtual-photo-booth"),value:c,options:[{label:(0,o.__)("Newest First","virtual-photo-booth"),value:"DESC"},{label:(0,o.__)("Oldest First","virtual-photo-booth"),value:"ASC"}],onChange:e=>r({order:e})}),(0,t.createElement)(a.TextControl,{label:(0,o.__)("Container CSS Class","virtual-photo-booth"),value:m,onChange:e=>r({containerClass:e})}))),(0,t.createElement)("div",{...h},(0,t.createElement)("div",{className:"pbe-gallery-preview"},(0,t.createElement)("div",{className:"pbe-gallery-grid",style:{gridTemplateColumns:`repeat(${s}, 1fr)`}},Array.from({length:Math.min(p,6)}).map((e,o)=>(0,t.createElement)("div",{key:o,className:"pbe-gallery-item"},(0,t.createElement)("span",{className:"dashicons dashicons-format-image"})))),(0,t.createElement)("p",{className:"pbe-preview-note"},(0,o.__)("Gallery will display approved photos on the frontend.","virtual-photo-booth")))))}})})();